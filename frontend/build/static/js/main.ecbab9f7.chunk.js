(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{42:function(e,t,a){e.exports=a(94)},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(40),r=a.n(o),s=(a(47),a(16)),i=a.n(s),l=a(11),u=a(23),m=(a(49),a(26));a(50);var h=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),i=s[0],u=s[1];return c.a.createElement("div",{className:"todo-container"},c.a.createElement("div",{className:"title"},"ToDo List"),c.a.createElement("input",{type:"text",onChange:function(e){return o(e.target.value)},value:a,className:"new-task-input"}),c.a.createElement("button",{onClick:function(){var e;""!==(e=a)&&(u([].concat(Object(m.a)(i),[{id:1e5*Math.random(),text:e.trimStart(),isDone:!1}])),o(""))},className:"new-task-button"},"Add"),c.a.createElement("table",{className:"todo-table"},i.sort((function(e,t){return(e.isDone?1:0)-(t.isDone?1:0)})).map((function(e,t){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",{className:"number-cell"},t+1,".\xa0"),c.a.createElement("td",{className:"text-cell"+(e.isDone?" crossline-row":"")},e.text),c.a.createElement("td",{className:"checkbox-cell"},c.a.createElement("input",{type:"checkbox",checked:e.isDone,onChange:function(){return t=e.id,a=!e.isDone,i.filter((function(e){return e.id===t}))[0].isDone=a,void u(Object(m.a)(i));var t,a},className:"status-checkbox"}),c.a.createElement("span",{className:"checkbox-span"})),c.a.createElement("td",{className:"delete-cell"},c.a.createElement("button",{onClick:function(){return t=e.id,void u(i.filter((function(e){return e.id!=t})));var t}},"Delete")))}))))},d=(a(51),"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png");function b(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1];return c.a.createElement("div",{className:"auth-block"},c.a.createElement("div",{className:"login-block-tab"+(a?"":" enabled-tab"),onClick:function(){return o(!1)}},"Login"),c.a.createElement("div",{className:"register-block-tab"+(a?" enabled-tab":""),onClick:function(){return o(!0)}},"Register"),a?c.a.createElement("button",{className:"auth-button"},c.a.createElement("img",{src:d,width:"25",height:"25",className:"gh-img"}),c.a.createElement("span",{className:"auth-text"},"Sign up with GitHub")):c.a.createElement("button",{className:"auth-button"},c.a.createElement("img",{src:d,width:"25",height:"25",className:"gh-img"}),c.a.createElement("span",{className:"auth-text"},"Sign in with GitHub")))}var f=a(22),p=a(1),g=a(52),E=a(67),v=a(84)(),k=E("http://localhost:3030");function N(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.authentication.getAccessToken();case 2:return t=e.sent,console.log("Current token: ",t),e.next=6,v.authentication.getFromLocation(window.location).then((function(e){return console.info("Got auth token:",e),null!==e?(v.authentication.setAccessToken(e),console.info("Set auth token:",e),Promise.resolve(!0)):Promise.resolve(!1)})).catch((function(e){return Promise.resolve(!1)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.configure(k.fetch(window.fetch)),v.configure(g({storageKey:"auth"}));var x=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return e.next=4,v.authenticate();case 4:(t=e.sent).user?(console.info("UserData",t),o(t.user)):o(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),c.a.createElement("div",{className:"main-container"},c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"logo"},"Kisa's ToDo"),c.a.createElement("div",{className:"auth-data"},null!==a?c.a.createElement(f.a,{to:"/todo"},"Authorized as ".concat(a.email)):"Unauthorized user")),c.a.createElement("div",{className:"content"},c.a.createElement(p.c,null,c.a.createElement(p.a,{path:"/login",component:b}),c.a.createElement(p.a,{path:"/todo",component:h}))))},j=a(3);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=Object(j.a)();r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p.b,{history:O},c.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ecbab9f7.chunk.js.map